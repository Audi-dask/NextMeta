## ⚙️ 部署指南

本项目推荐使用 Docker Compose 进行一键部署，快速构建包含应用服务与数据库的完整环境。

### 1. 环境准备
- **Docker**: 建议版本 20.10+
- **Docker Compose**: 建议版本 2.0+

### 2. 获取代码与配置

```bash
# 获取项目代码
git clone https://github.com/Audi-dask/NextMeta.git

cd NextMeta

# 初始化配置文件
cp config.example.yaml config.yaml
```

### 3. 配置说明 (`config.yaml`)

默认配置即可直接运行，关键配置项说明如下：
- **server.port**: 应用服务端口 (默认 8080)
- **database**: MySQL 连接信息 (默认连接 docker-compose 内的 mysql 服务)
- **ldap**: (可选) 企业 LDAP 认证配置，如无需对接可保持注释状态

> **注意**: 如果修改了 `config.yaml` 中的数据库密码，请同步修改 `docker-compose.yaml` 中的 `MYSQL_ROOT_PASSWORD` 环境变量。

### 4. 启动服务

使用生产环境配置启动服务：

```bash
# 后台启动服务
docker-compose up -d
```

启动后，容器会自动执行以下操作：
1. **Database Ready**: 等待 MySQL 服务启动并就绪。
2. **Schema Init**: 自动执行 `init.sql` 初始化数据库表结构与默认数据。
3. **App Start**: 启动 NextMeta 后端服务。

### 5. 访问与验证

等待约 10-30 秒服务启动完成后，访问浏览器：

- **访问地址**: `http://localhost:8080`
- **默认管理员账号**:
  - 用户名: `NextMeta`
  - 密码: `password123` (建议登录后立即修改)

---

## 🛠️ 常用运维命令

```bash
# 查看服务日志
docker-compose  logs -f

# 停止服务
docker-compose  down

# 更新镜像并重启
docker-compose  pull
docker-compose  up -d
```


